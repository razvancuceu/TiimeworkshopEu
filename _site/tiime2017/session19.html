<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>TIIME 2017&amp;#58; Session 19 SaToSa evolution (15:30/Room A11)</title>
  <meta name="description" content="Trust and Internet Identity Meeting Europe<br> 5-6 Feb 2018: Workshops and Unconference<br> 7-8 Feb 2018: Unconference
">

  <link rel="stylesheet" href="/TiimeworkshopEu/css/tether.min.css">
  <link rel="stylesheet" href="/TiimeworkshopEu/css/main.css">
  <link rel="canonical" href="http://localhost:4000/TiimeworkshopEu/tiime2017/session19.html">
  <link rel="alternate" type="application/rss+xml" title="TIIME" href="http://localhost:4000/TiimeworkshopEu/feed.xml">
</head>


  <body>
    
<div class="container">
  <div class="row">
    <div class="float-xs-right">
      <nav class="navbar navbar-dark bg-inverse">
        <button class="navbar-toggler hidden-md-up" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"></button>
        <div class="collapse navbar-toggleable-sm" id="navbarResponsive">
          <ul class="nav navbar-nav float-md-right">
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                
                  
                    <li class="nav-item">
                      <a href="/TiimeworkshopEu/" class="nav-link">
                          
                            Home
                          
                        </a>
                    </li>
                  
                
              
            
              
                
                  
                    <li class="nav-item">
                      <a href="/TiimeworkshopEu/topics" class="nav-link">
                          
                            Topics
                          
                        </a>
                    </li>
                  
                
              
            
              
            
              
                
                  
                    <li class="nav-item">
                      <a href="/TiimeworkshopEu/schedule" class="nav-link">
                          
                            Schedule
                          
                        </a>
                    </li>
                  
                
              
            
              
                
                  
                    <li class="nav-item">
                      <a href="/TiimeworkshopEu/schedule" class="nav-link">
                          
                            Schedule
                          
                        </a>
                    </li>
                  
                
              
            
              
                
                  
                    <li class="nav-item">
                      <a href="/TiimeworkshopEu/schedule" class="nav-link">
                          
                            Schedule
                          
                        </a>
                    </li>
                  
                
              
            
              
                
                  
                    <li class="nav-item">
                      <a href="/TiimeworkshopEu/tiime2017/" class="nav-link">
                          
                            TIIME2017
                          
                        </a>
                    </li>
                  
                
              
            
              
            
              
                
                  
                    <li class="nav-item">
                      <a href="/TiimeworkshopEu/about" class="nav-link">
                          
                            About
                          
                        </a>
                    </li>
                  
                
              
            
          </ul>
        </div>
      </nav>
    </div>
  </div>
</div>

  <div class="container">
  <div class="jumbotron">
    <div class="col-md-2 text-md-left text-xs-center jumbotron-logo">
      <img src="/TiimeworkshopEu/img/logo-head-transparent.png" alt="" width="100" height="162">
    </div>
    <div class="col-md-10 jumbotron-description">
      <h2>Trust and Internet Identity Meeting Europe<br> 5-6 Feb 2018: Workshops and Unconference<br> 7-8 Feb 2018: Unconference
</h2>
    </div>
    <!--div class="col-md-3 text-md-right text-xs-center">
      <p>In Cooperation With</p>
      <img src="/TiimeworkshopEu/img/sponsors/GeantLogo184x80.png" class="img-fluid" style="max-width: 100px">
    </div-->
  </div>
</div>

    <div class="container">
      <div class="row">
        <div class="col-lg-9 blog-main">
          <div class="blog-post">
    
      <h2 class="blog-post-title">TIIME 2017&#58; Session 19 SaToSa evolution (15:30/Room A11)</h2>
    
    <p><strong>SaToSa evolution (Heather Flanagan)</strong></p>

<p>The main repo: <a href="https://github.com/SUNET/SATOSA">https://github.com/SUNET/SATOSA</a></p>

<p>The docker image that SUNET is using: <a href="https://github.com/SUNET/docker-satosa">https://github.com/SUNET/docker-satosa</a></p>

<p>A repo to setup a local dev-environment with docker: <a href="https://github.com/SUNET/satosa-developer">https://github.com/SUNET/satosa-developer</a></p>

<p>SaToSa is a proxy-service.</p>

<p><strong>Agenda:</strong></p>

<p>Possible list of the microservices that VOs will need to make use of SaToSa. There is a list in order to use SATOSA. Take an identifier and query it on the server.</p>

<p>How do we do development? We lost the key contributor. We need to get organized. Who holds the keys?</p>

<p>Separation of configurational stuff in metadata: The proxy's IDP and SP metadata need to be configured from separate metadata feeds, which can be MDX.</p>

<p>Who is already deploying SaToSa and what?</p>

<p><strong>Who has SaToSA in production</strong></p>

<p><strong>Rainer</strong> : Two upcoming projects. SAML to SAML conversation, in another one OIDC to SAML. Still researching which product to use.</p>

<p><strong>Chris</strong> : Process of building a VO without a proxy. Not going to work. Going into deployment next month.</p>

<p><strong>Leif</strong> : Multiple dependencies</p>

<p><strong>Niels</strong> : Part of eduTEAMS  and InAcademia, both GEANT projects that need proxy functionality. (IDHub)</p>

<p><strong>Scott</strong> : Evaluating proxies deploying for Chris 'infrastructure in NIH. We will likely always recommend proxies.</p>

<p><strong>Nick</strong> : Likely using SaToSa as a proxy for Internet2 CoManage deployment.</p>

<p><strong>Ioannis</strong> : Incorporating proxies in infrastructures. Project with Roland to make SaToSa OIDC Federation aware (whatever that means), also likes Python</p>

<p>SuNet: working on national services regarding identity management. Investment is very long-term. What should the long-term IPR support-situation look like? Typically SUNET stuff is under BSD license. (Roland's repository has the Apache2-Licence)</p>

<p>CLA (contributor license agreement): Whoever writes code for a project gives the owner of the project the right to use it</p>

<p><strong>SUNet support for the project?</strong></p>

<ul>
  <li>–Has several core services that rely on pySAML (basis for SaToSa)</li>
  <li>–Investment is very long term</li>
  <li>–Would like to know what the IPR/maintenance/support situation should look like; Commons Conservatory is one option - Leif, Niels, and Roland to follow up</li>
</ul>

<p><strong>Steps to get IPR into shape:</strong></p>

<ul>
  <li>License of the pieces of the code varies; the bit 2 close BSD (?) license is used by whatever SUNet/NORDUnet pays for; all the code can be traced back to the copyright holder;</li>
  <li>Figure out who will hold the IPR (which legal entity holds the code);</li>
  <li>Identify copyright holders of existing code (and new code going forward) and have then sign a suitable CLA, as determined by the IPR holder;</li>
  <li>Relicense code in accordance with new IPR and CLAs, if needed.</li>
</ul>

<p><strong>How do we develop?</strong></p>

<p>We don´t have lots of contributors. Maybe a review-session would be good if someone writes a lot of code. Can we get some common understanding where we want to move in this project? Some PR are stuck for a long time.</p>

<p>Can we use issue-threads? It would be better to have another place where you could discuss certain topics e.g. Security issues.</p>

<p>It would be nice to organize a hackathon.</p>

<p>It would be good to develop a culture of testing.</p>

<p>Distributed nature is good to enrichen the codebase but it sucks at a production model. Someone needs to be in charge. In SUNET exists already some responsibilities to ensure that things get done.</p>

<p>Maybe it would be good to have a switch to turn certain functionality of or on but have all of the functionality in the codebase of SUNET.</p>

<p>It should be able to check a list of identifiers where the IRDP should be sent. I want to configure SATOSA on what identifiers I want to get.</p>

<p>Now we have only unit test but we need more functional tests.</p>

<p><strong>How do we do development? How do we review each other's work, and accept code?</strong></p>

<ul>
  <li>–We will have lots of contributors, there is a source code repo</li>
  <li>–Would like to add some mutual review</li>
  <li>–Would like to have someone coordinating the work, a place to record who is working on what; perhaps use GitHub issue threads to sort this out?</li>
  <li>–Hackathon!</li>
  <li>–Really need a benevolent dictator/product manager for this, to make sure the process is happening</li>
  <li>–SUNet needs a Travis set up</li>
  <li>–SUNet to create a developer mailing list - satosa-dev@lists.sunet.se</li>
</ul>

<p><strong>Proposal</strong> :</p>

<ul>
  <li>Organize this request as issues in Github</li>
  <li>Each PR should target the different supported platforms.</li>
  <li>We should organize a developer meeting in spring in Stockholm. What kind of setup? Design-session or hackathon? It should be at least 2 days long. GEANT has funding for that. Need to identify who will work on making this happen. John will create a list of the subjects the meeting will be about.</li>
  <li>Micro services are right now integrated in the main codebase, which has to change. But they are already different entities. There are no reasons to build them in the main-codebase.</li>
  <li>What is a micro service for SaToSa? - It is a plug in which you put into the application so that it does a certain task. E.g. statistic service, which gathers different kinds of statistics.</li>
  <li>We should pull micro services out to a contributor-directory. But there are many project who fail at this task.</li>
  <li>We should have a public Travis setup for integration. You should use Docker in Travis to test for different target platforms.</li>
  <li>We need the functionality so that a simple make-command triggers all kinds of python-modules.</li>
  <li>Mailing-list is missing to drop some of the ideas? But maybe GitHub is enough.</li>
  <li>Need ability to take combinations of identifiers to create a key.</li>
  <li>Need for some SP to create a custom name-ID based on the identifier. The existing one is not quite flexible.</li>
</ul>

<p><strong>Possible list of micro services that VOs will need to make the most use of SaToSa?</strong></p>

<ul>
  <li>–Organize these as GitHub issues and label them as improvements; we need to get out of the business of having the microservices included in the core code base</li>
  <li>–Existing examples: consent service presents users with a consent screen; account linking; statistics gathering; LDAP as a source of attributes (they should all be moved to a contrib repo)</li>
  <li>–People need to check for an ordered list of identifiers, and if criteria aren't met, redirect users to an external service that will display a project-specific error to a user (Scott to write that up as an improvement)</li>
  <li>–OAUTH backend module, to leverage ORCID, GitHub, etc, as providers of identity</li>
  <li>–There are several more; Scott will pull out of the NIH requirements list and post them</li>
</ul>

<p><strong>Looking at the separation of config and GUI?</strong></p>

<ul>
  <li>Niels will right out some issues as a feature request</li>
</ul>

</div>
        </div><!-- /.blog-main -->
        <div class="col-lg-3 blog-sidebar">
          <div class="sidebar-module sidebar-module-inset text-sm-center">
  <style>
.regbutton {
  text-decoration: none;
  background-color: #900;
  font-weight: bold;
  text-align: center;
  padding: 1em 0.5em;
  border-top: 1px solid #CCCCCC;
  border-right: 1px solid #333333;
  border-bottom: 1px solid #333333;
  border-left: 1px solid #CCCCCC;
}
</style>

  <h4 style="margin-top: 1.5em;">Sponsors 2017</h4>
  <a href="https://www.wko.at/Content.Node/AUSTRIAPRO/Startseite---AUSTRIAPRO.html">
    <img src="/TiimeworkshopEu/img/sponsors/austriapro_logo_400.jpg" class="img-fluid img-thumbnail" style="margin: 0.5em 0">
  </a>
  <a href="http://www.internetsociety.org/">
    <img src="/TiimeworkshopEu/img/sponsors/isoc_logo400.png" class="img-fluid img-thumbnail" style="margin: 0.5em 0">
  </a>
  <a href="http://sphericalcowgroup.com/">
    <img src="/TiimeworkshopEu/img/sponsors/scg-logo-name.png" class="img-fluid img-thumbnail" style="margin: 0.5em 0">
  </a>
  <a href="https://www.sunet.se/about-sunet/">
    <img src="/TiimeworkshopEu/img/sponsors/sunet_logo_400.png" class="img-fluid img-thumbnail" style="margin: 0.5em 0">
  </a>
  <a href="https://www.technikum-wien.at/">
    <img src="/TiimeworkshopEu/img/sponsors/fh_technikum_wien400.png" class="img-fluid img-thumbnail" style="margin: 0.5em 0">
  </a>
  <a href="https://kantarainitiative.org/">
    <img src="/TiimeworkshopEu/img/sponsors/kantara400.png" class="img-fluid img-thumbnail" style="margin: 0.5em 0">
  </a>
  <a href="https://daasi.de/">
    <img src="/TiimeworkshopEu/img/sponsors/daasi_logo_final_400.gif" class="img-fluid img-thumbnail" style="margin: 0.5em 0">
  </a>
</div>

        </div>
      </div>

    </div>

    <script type="text/javascript" src="http://localhost:4000/TiimeworkshopEu/js/jquery-3.1.1.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/TiimeworkshopEu/js/tether.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/TiimeworkshopEu/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/TiimeworkshopEu/js/script.js"></script>

  </body>

</html>
